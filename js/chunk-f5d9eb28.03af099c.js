(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f5d9eb28"],{"083a":function(t,e,a){"use strict";var i=a("0d51"),o=TypeError;t.exports=function(t,e){if(!delete t[e])throw new o("Cannot delete property "+i(e)+" of "+i(t))}},"1b26":function(t,e,a){},2251:function(t,e,a){"use strict";a("b0c0");var i=function(){var t=this,e=t._self._c;return e("Sider",{style:{position:"fixed",height:"100vh",left:0,overflow:"auto"},attrs:{width:250}},[e("div",{staticClass:"logo-con"},[e("img",{key:"min-logo",staticStyle:{background:"#ffffff90","border-radius":"5px"},attrs:{src:t.minLogo}}),e("span",{staticClass:"name"},[t._v("foorde")])]),e("Menu",{attrs:{"active-name":t.$route.name,theme:"dark",width:"auto",accordion:""},on:{"on-select":t.turnToPage}},[e("MenuItem",{attrs:{name:"adminList"}},[e("Icon",{attrs:{type:"ios-navigate"}}),e("span",[t._v("admin")])],1),e("MenuItem",{attrs:{name:"userlist"}},[e("Icon",{attrs:{type:"ios-navigate"}}),e("span",[t._v("user")])],1),e("MenuItem",{attrs:{name:"areaList"}},[e("Icon",{attrs:{type:"ios-navigate"}}),e("span",[t._v("area")])],1),e("MenuItem",{attrs:{name:"shop"}},[e("Icon",{attrs:{type:"ios-navigate"}}),e("span",[t._v("shop")])],1)],1)],1)},o=[],n=(a("14d9"),a("ad00")),s=a.n(n),l={data:function(){return{minLogo:s.a}},methods:{turnToPage:function(t){var e={},a=e.name,i=e.params,o=e.query,n=e.path;"string"===typeof t?a=t:(a=t.name,i=t.params,o=t.query,n=t.path),a.indexOf("isTurnByHref_")>-1?window.open(a.split("_")[1]):this.$router.push({name:a,params:i,query:o,path:n})}}},r=l,c=(a("cbc7"),a("2877")),u=Object(c["a"])(r,i,o,!1,null,"495901f6",null);e["a"]=u.exports},"35a9":function(t,e,a){"use strict";a("9513")},3656:function(t,e,a){"use strict";a("cc22")},"3c6c":function(t,e,a){"use strict";var i=a("2b0e");e["a"]=new i["default"]},"49fb":function(t,e,a){},"71c2":function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("Header",{style:{background:"#fff",boxShadow:"0 2px 3px 2px rgba(0,0,0,.1)"}},[e("router-link",{attrs:{to:{name:"home"}}},[e("Icon",{attrs:{type:"md-home"}}),e("span",{staticClass:"home"},[t._v("Home")])],1)],1)},o=[],n={},s=n,l=(a("35a9"),a("2877")),r=Object(l["a"])(s,i,o,!1,null,"b642f48c",null);e["a"]=r.exports},9513:function(t,e,a){},a434:function(t,e,a){"use strict";var i=a("23e7"),o=a("7b0b"),n=a("23cb"),s=a("5926"),l=a("07fa"),r=a("3a34"),c=a("3511"),u=a("65f0"),d=a("8418"),f=a("083a"),p=a("1dde"),m=p("splice"),h=Math.max,v=Math.min;i({target:"Array",proto:!0,forced:!m},{splice:function(t,e){var a,i,p,m,g,b,y=o(this),x=l(y),L=n(t,x),_=arguments.length;for(0===_?a=i=0:1===_?(a=0,i=x-L):(a=_-2,i=v(h(s(e),0),x-L)),c(x+a-i),p=u(y,i),m=0;m<i;m++)g=L+m,g in y&&d(p,m,y[g]);if(p.length=i,a<i){for(m=L;m<x-i;m++)g=m+i,b=m+a,g in y?y[b]=y[g]:f(y,b);for(m=x;m>x-i+a;m--)f(y,m-1)}else if(a>i)for(m=x-i;m>L;m--)g=m+i-1,b=m+a-1,g in y?y[b]=y[g]:f(y,b);for(m=0;m<a;m++)y[m+L]=arguments[m+2];return r(y,x-i+a),p}})},ad00:function(t,e,a){t.exports=a.p+"img/dog_logo.57062b8d.jpg"},aeb4:function(t,e,a){"use strict";a("fba4")},cbc7:function(t,e,a){"use strict";a("1b26")},cc22:function(t,e,a){},cdd1:function(t,e,a){"use strict";a("49fb")},f43a:function(t,e,a){"use strict";a.r(e);a("b0c0");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"layout"},[e("Menu"),e("Layout",{style:{marginLeft:"250px",height:"100vh",overflow:"auto"}},[e("Header"),e("Content",{style:{padding:"0 16px 16px"}},[e("Breadcrumb",{style:{margin:"16px 0"}},[e("BreadcrumbItem",[t._v("edit-shop")])],1),e("Card",[e("div",{staticStyle:{height:"auto"}},[e("Form",{attrs:{model:t.form,"label-position":"right","label-width":100,inline:""}},[e("FormItem",{attrs:{label:"Name"}},[e("Input",{staticStyle:{width:"388px"},model:{value:t.data.name,callback:function(e){t.$set(t.data,"name",e)},expression:"data.name"}})],1),e("FormItem",{attrs:{label:"Logo"}},[e("Logo")],1),e("FormItem",{attrs:{label:"License"}},[e("License")],1),e("FormItem",{attrs:{label:"Desc"}},[e("Input",{staticStyle:{width:"388px"},attrs:{type:"textarea"},model:{value:t.data.desc,callback:function(e){t.$set(t.data,"desc",e)},expression:"data.desc"}})],1),e("FormItem",{attrs:{label:"Area_id"}},[e("Select",{staticStyle:{width:"388px"},attrs:{"label-in-value":""},on:{"on-change":t.areatype},model:{value:t.area,callback:function(e){t.area=e},expression:"area"}},t._l(t.areaList,(function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.label))])})),1)],1),e("FormItem",{attrs:{label:"Address"}},[e("Input",{staticStyle:{width:"388px"},model:{value:t.data.address,callback:function(e){t.$set(t.data,"address",e)},expression:"data.address"}})],1),e("FormItem",{attrs:{label:"Location"}},[e("div",[t._v(t._s(t.data.location))]),e("Button",{on:{click:t.toarea}},[t._v("Select region")])],1),e("FormItem",{attrs:{label:"Email"}},[e("Input",{staticStyle:{width:"388px"},model:{value:t.data.email,callback:function(e){t.$set(t.data,"email",e)},expression:"data.email"}})],1),e("FormItem",{attrs:{label:"Shop_type"}},[e("Select",{staticStyle:{width:"388px"},attrs:{"label-in-value":""},on:{"on-change":t.selecttype},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.typeList,(function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.label))])})),1)],1),e("FormItem",{attrs:{label:"Food_type"}},[e("Select",{staticStyle:{width:"388px"},attrs:{"label-in-value":""},on:{"on-change":t.foodtype},model:{value:t.food,callback:function(e){t.food=e},expression:"food"}},t._l(t.foodList,(function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.label))])})),1)],1),e("FormItem",{attrs:{label:"Service_type"}},[e("Select",{staticStyle:{width:"388px"},attrs:{"label-in-value":""},on:{"on-change":t.servicetype},model:{value:t.service,callback:function(e){t.service=e},expression:"service"}},t._l(t.serviceList,(function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.label))])})),1)],1),e("FormItem",{attrs:{label:"Number"}},[e("Input",{staticStyle:{width:"388px"},model:{value:t.data.number,callback:function(e){t.$set(t.data,"number",e)},expression:"data.number"}})],1)],1),e("Button",{attrs:{type:"primary",size:"large"},on:{click:t.edit}},[t._v("ok")])],1)])],1)],1)],1)},o=[],n=(a("14d9"),a("e9f5"),a("7d54"),a("d3b7"),a("159b"),a("3c6c")),s=function(){var t=this,e=t._self._c;return e("div",[t._l(t.uploadList,(function(a,i){return e("div",{key:i,staticClass:"demo-upload-list"},[[e("img",{attrs:{src:a.url}}),e("div",{staticClass:"demo-upload-list-cover"},[e("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(e){return t.handleView(a.name)}}}),e("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){return t.handleRemove(a)}}})],1)]],2)})),e("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"show-upload-list":!1,"default-file-list":t.defaultList,"on-success":t.handleSuccess,format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,multiple:"",type:"drag",action:t.actionurl}},[e("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[e("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)]),e("Modal",{attrs:{title:"View Image","footer-hide":""},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.visible?e("img",{staticStyle:{width:"100%"},attrs:{src:t.imgName}}):t._e()])],2)},l=[],r=(a("a434"),a("f121")),c={name:"LogoUpdate",data:function(){return{defaultList:[],imgName:"",visible:!1,uploadList:[],actionurl:r["a"].baseUrl.pro+"/imags?desc=Shop logo&category=logo",url:""}},created:function(){var t=this;n["a"].$on("logo",(function(e){t.uploadList=[{name:e,url:e}],n["a"].$emit("oldlogo",t.uploadList[0].url)})),this.$get("/api/common.imags/url").then((function(e){t.url=e.data.url}))},methods:{handleView:function(t){this.imgName=t,this.visible=!0},handleRemove:function(t){var e=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(e.indexOf(t),1),this.uploadList.splice(e.indexOf(t),1),n["a"].$emit("oldlogo",null)},handleSuccess:function(t,e){e.url=this.url+"/"+t.data.url,e.name=this.url+"/"+t.data.url,this.uploadList.push({name:e.name,url:e.url}),this.defaultList.push({name:e.name,url:e.url}),n["a"].$emit("oldlogo",t.data.url)},handleFormatError:function(t){this.$Notice.warning({title:"The file format is incorrect",desc:"File format of "+t.name+" is incorrect, please select jpg or png."})},handleMaxSize:function(t){this.$Notice.warning({title:"Exceeding file size limit",desc:"File  "+t.name+" is too large, no more than 2M."})}},mounted:function(){this.uploadList=this.$refs.upload.fileList}},u=c,d=(a("cdd1"),a("2877")),f=Object(d["a"])(u,s,l,!1,null,"70191bde",null),p=f.exports,m=function(){var t=this,e=t._self._c;return e("div",[t._l(t.uploadList,(function(a,i){return e("div",{key:i,staticClass:"demo-upload-list"},[[e("img",{attrs:{src:a.url}}),e("div",{staticClass:"demo-upload-list-cover"},[e("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(e){return t.handleView(a.name)}}}),e("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){return t.handleRemove(a)}}})],1)]],2)})),e("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"show-upload-list":!1,"default-file-list":t.defaultList,"on-success":t.handleSuccess,format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,multiple:"",type:"drag",action:t.actionurl}},[e("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[e("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)]),e("Modal",{attrs:{title:"View Image","footer-hide":""},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.visible?e("img",{staticStyle:{width:"100%"},attrs:{src:t.imgName}}):t._e()])],2)},h=[],v={name:"LicenseUpdate",porps:{data:Object},data:function(){return{defaultList:[],imgName:"",visible:!1,uploadList:[],actionurl:r["a"].baseUrl.pro+"/imags?desc=Business license address&category=license",url:""}},created:function(){var t=this;n["a"].$on("License",(function(e){t.uploadList=[{name:e,url:e}],n["a"].$emit("oldLicense",t.uploadList[0].url)})),this.$get("/api/common.imags/url").then((function(e){t.url=e.data.url}))},methods:{handleView:function(t){this.imgName=t,this.visible=!0},handleRemove:function(t){var e=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(e.indexOf(t),1),this.uploadList.splice(e.indexOf(t),1),n["a"].$emit("oldLicense",null)},handleSuccess:function(t,e){e.url=this.url+"/"+t.data.url,e.name=this.url+"/"+t.data.url,this.uploadList.push({name:e.name,url:e.url}),this.defaultList.push({name:e.name,url:e.url}),n["a"].$emit("oldLicense",t.data.url)},handleFormatError:function(t){this.$Notice.warning({title:"The file format is incorrect",desc:"File format of "+t.name+" is incorrect, please select jpg or png."})},handleMaxSize:function(t){this.$Notice.warning({title:"Exceeding file size limit",desc:"File  "+t.name+" is too large, no more than 2M."})}},mounted:function(){this.uploadList=this.$refs.upload.fileList}},g=v,b=(a("aeb4"),Object(d["a"])(g,m,h,!1,null,"bf92f69e",null)),y=b.exports,x=a("2251"),L=a("71c2"),_={name:"editshop",components:{Menu:x["a"],Header:L["a"],Logo:p,License:y},data:function(){return{data:{},modal2:!1,oldlogo:"",oldLicense:"",form:{id:"",name:"",logo:"",license:"",desc:"",area_id:"",address:"",location:"",email:"",shop_type:"",food_type:"",service_type:"",number:""},typeList:[],type:0,foodList:[],food:0,serviceList:[],service:0,areaList:[],area:0}},created:function(){var t=this;this.getdata(),this.$get("/api/admin.shop/gettype").then((function(e){e.data.shop.forEach((function(a){t.typeList.push({label:a,value:e.data.shop.indexOf(a)})})),e.data.food.forEach((function(a){t.foodList.push({label:a,value:e.data.food.indexOf(a)})})),e.data.service.forEach((function(a){t.serviceList.push({label:a,value:e.data.service.indexOf(a)})}))})),this.$get("/admin/getarea").then((function(e){e.data.list.forEach((function(e){t.areaList.push({label:e.name,value:e.id})}))})),n["a"].$on("showshop",(function(e){t.modal2=e})),n["a"].$on("oldlogo",(function(e){t.oldlogo=e})),n["a"].$on("oldLicense",(function(e){t.oldLicense=e})),n["a"].$on("shop",(function(e){console.log(t.data.location),t.data.location=e}))},watch:{$route:function(t,e){t!=e&&this.getdata()},data:function(t,e){t!=e&&(n["a"].$emit("logo",t.logo),n["a"].$emit("License",t.license))},oldlogo:function(t){this.form.logo=t},oldLicense:function(t){this.form.license=t}},methods:{getdata:function(){var t=this,e=this.$route.query.id;this.$get("/admin/shop/"+e).then((function(e){t.data=e.data,t.area=e.data.area_id,t.type=parseInt(e.data.shop_type),t.food=parseInt(e.data.food_type),t.service=parseInt(e.data.service_type)}))},edit:function(){var t=this;this.form.name=this.data.name,this.form.desc=this.data.desc,this.form.email=this.data.email,this.form.address=this.data.address,this.form.location=this.data.location,this.form.number=this.data.number,this.form.area_id=this.area,this.form.shop_type=this.type,this.form.food_type=this.food,this.form.service_type=this.service,this.form.id=this.data.id,this.$post("/api/admin.shop/edit",this.form).then((function(e){1==e.status&&t.$router.push({name:"shop"})}))},selecttype:function(t){this.form.shop_type=t.value},foodtype:function(t){this.form.food_type=t.value},servicetype:function(t){this.form.service_type=t.value},areatype:function(t){this.form.area_id=t.value},toarea:function(){this.$router.push({name:"area",query:{shop:"editshoparae"}})}}},w=_,$=(a("3656"),Object(d["a"])(w,i,o,!1,null,"216d5f80",null));e["default"]=$.exports},fba4:function(t,e,a){}}]);